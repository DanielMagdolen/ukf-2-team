<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Konferencie</title>
    <!-- Pridanie odkazu na Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='style_css/view_conferences.css') }}" rel="stylesheet">
</head>

<body>
    <h1>Konferencie</h1>

    <!-- User Greeting -->
    <p>Vitajte, {{ session['email'] }}!</p>

    <a href="{{ url_for('first_page') }}">
        <button type="button" class="btn-enter">Odhlásiť sa</button>
    </a>
    <br></br>
    <!-- Admin option to create a conference -->
    {% if session['role'] == 'admin' %}
    <div class="admin-actions">
        <a href="{{ url_for('create_conference') }}">
            <button type="button" class="btn-enter">Vytvoriť novú konferenciu</button>
        </a>
    </div>
    {% endif %}

    <!-- List of Conferences -->
    <div class="conference-list">
        {% for conference in conferences %}
        <div class="conference-item">
            <h3>{{ conference['name'] }}</h3>
            <p><em>{{ conference['date'].strftime('%d.%m.%Y') if conference['date'] else 'Neznámy dátum' }}</em></p>
            <p>{{ conference['description'] }}</p>

            <!-- Button to enter the conference -->
            <form action="{{ url_for('enter_conference', conference_id=conference['_id']) }}" method="post">
                <button type="submit" class="btn-enter">Vstúpiť</button>
            </form>

            <!-- Admin options: Delete and Edit Conference -->
            {% if session['role'] == 'admin' %}
            <div class="admin-actions">
                <!-- Button to delete the conference -->
                <form action="{{ url_for('delete_conference', conference_id=conference['_id']) }}" method="post"
                    style="display:inline;">
                    <button type="submit" class="delete-button">
                        <i class="material-icons">delete</i> <!-- Ikona koša -->
                    </button>
                </form>
                <!-- Button to edit the conference -->
                <form action="{{ url_for('edit_conference', conference_id=conference['_id']) }}" method="get"
                    style="display:inline;">
                    <button type="submit" class="edit-button">
                        <i class="material-icons">edit</i> <!-- Ikona ceruzky -->
                    </button>
                </form>
            </div>
            {% endif %}
        </div>
        {% endfor %}
    </div>


    <footer>
        <div class="left-image">
            <img src="https://www.fpvai.ukf.sk/images/logo/fpvai.png" alt="Image" style="max-width: 280px; height: auto;">
        </div>
    
        <div class="contact-info">
            <div>
                <i class="fas fa-envelope"></i>
                <span>Email: <a href="mailto:admin@ukf.sk">admin@ukf.sk</a></span>
            </div>
            <div>
                <i class="fas fa-phone-alt"></i>
                <span>Telefón: <a href="tel:+421000000000">+421 000 000 000</a></span>
            </div>
            <div>
                <i class="fas fa-map-marker-alt"></i>
                <span>Adresa: <a href="https://maps.app.goo.gl/xbsYHRJh5tmQj82f9" target="_blank">Tr. A. Hlinku 1, 949 01
                        Nitra</a></span>
            </div>
        </div>
    
        <div class="social-icons">
            <a href="https://www.facebook.com/fpvai.ukf/" target="_blank">
                <i class="fab fa-facebook-f"></i>
            </a>
            <a href="https://sk.linkedin.com/company/katedra-informatiky-fpv-ukf-v-nitre" target="_blank">
                <i class="fab fa-linkedin-in"></i>
            </a>
            <a href="https://www.instagram.com/fpvai.ukf/" target="_blank">
                <i class="fab fa-instagram"></i>
            </a>
        </div>
    </footer>
</body>

</html>